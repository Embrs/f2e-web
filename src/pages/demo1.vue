<script setup>
// Demo1 ğŸ“„
import { inject, onMounted } from "vue";
const $gsap = inject("$gsap");

onMounted(() => {
  const tl = $gsap.gsap.timeline({
    scrollTrigger: {
      trigger: ".box1", // æ±ºå®šscrolltriggerè¦ä»¥å“ªä¸€å€‹å…ƒç´ ä½œç‚ºè§¸ç™¼åŸºæº–é»
      markers: false, // é–‹å•Ÿstart & endæ¨™è¨˜é»ï¼Œå–®ç´”æ–¹ä¾¿ç€è¦½å‹•ç•«é–‹å§‹èˆ‡çµæŸé»
      start: "top 20%", // æ±ºå®šå‹•ç•«é–‹å§‹é»çš„ä½ç½®
      end: "top 1%", // æ±ºå®šå‹•ç•«çµæŸé»çš„ä½ç½®
      scrub: true, //é‡è¦ï¼é–‹å•Ÿscrubä¾†æ±ºå®šå‹•ç•«æ’­æ”¾æ˜¯å¦ä¾è³´è¦–çª—æ»¾å‹•
    },
  });

  tl.to(".box1", {
    // top: "0", // è·å¤–å±¤å®¹å™¨top 0px
    left: "50%", // è·å¤–å±¤å®¹å™¨left 50%
    xPercent: "-50", // translate(-50%, 0)
    duration: 10, // å‹•ç•«æŒçºŒæ™‚é–“ä¹‹æ¯”ä¾‹
    position: "absolute", // position: 'absolute'ï¼Œçµ•å°ä½ç½®æ‰èƒ½ä½¿ç”¨left, right...ç­‰
  }).to(".box1", {
    top: "100%",
    yPercent: "-100", // translate(0, -100%)
    duration: 20,
    position: "absolute",
  });
});
</script>

<template lang="pug">
#Demo1
  section.section1
    .container1
      .box1 
  //- section.section2
  p(v-for="i of 100" :key="i") {{ i }}
  
  section.section3
</template>

<style lang="scss" scoped>
#Demo1 {
  .section1 {
    display: flex;
    justify-content: center;
    align-items: center;
    height:  100vh;
    background-color: #fd89b9;
  }

  .container1 {
    position: relative;
    margin-bottom: -100px;
    width: 50%;
    height: 40%;
    background-color: #fff;
    border: 1px solid #000;
  }

  .box1 {
    width: 100px;
    height: 100px;
    background-color: #165e83;
  }

  .row {
    display: flex;
  }
}
</style>